{"ast":null,"code":"import _regeneratorRuntime from\"D:/skillsafari/New folder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/skillsafari/New folder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState,useEffect,useContext}from\"react\";import Product from\"./Product\";import{CartContext}from\"../../Services/Cart/CartContext\";import{ADD_CART_ITEM,REMOVE_CART_ITEM,UPDATE_CART_ITEM_COUNT}from\"../../Services/Cart/action-types\";import{ProductContext}from\"../../Services/Product/ProductContext\";import{apiKey,productURL}from\"../../Services/util\";import{random,commerce,datatype}from\"faker\";import Axios from\"axios\";import{FETCH_PRODUCTS}from\"../../Services/Product/action-types\";import SyncLoader from\"react-spinners/SyncLoader\";import\"./ProductList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProductList=function ProductList(){var _useContext=useContext(CartContext),cartItem=_useContext.cartItem,dispatch=_useContext.dispatch;var _useContext2=useContext(ProductContext),products=_useContext2.products,productDispatch=_useContext2.productDispatch;var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$Axios$get,data,photos,allProduct;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Axios.get(productURL,{headers:{Authorization:apiKey}});case 2:_yield$Axios$get=_context.sent;data=_yield$Axios$get.data;photos=data.photos;allProduct=photos.map(function(photo){return{smallImage:photo.src.medium,tinyImage:photo.src.tiny,productName:random.word(),productPrice:commerce.price(),count:0,id:datatype.uuid(),age:datatype.number(6)};});productDispatch({type:FETCH_PRODUCTS,payload:allProduct});case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProducts();},[]);useEffect(function(){console.log(\"Cart item updated\");},[cartItem]);var addToCart=function addToCart(item){item.isAddedtoCart=true;item.count=1;dispatch({type:ADD_CART_ITEM,payload:item});};var removeFromCart=function removeFromCart(item){item.isAddedtoCart=false;item.count=0;dispatch({type:REMOVE_CART_ITEM,payload:item});};var incrementItem=function incrementItem(item){item.isAddedtoCart=true;if(item.count>0){item.count=item.count+1;}dispatch({type:UPDATE_CART_ITEM_COUNT,payload:item});};var decrementItem=function decrementItem(item){item.isAddedtoCart=true;if(item.count>0){item.count=item.count-1;}dispatch({type:UPDATE_CART_ITEM_COUNT,payload:item});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"grid lg:grid-cols-4 gap-4 md:grid-cols-3 sm:grid-cols-2 px-4\",children:products.items!==undefined?products.items.map(function(item){return/*#__PURE__*/_jsx(Product,{product:item,addToCart:addToCart,removeFromCart:removeFromCart,incrementItem:incrementItem,decrementItem:decrementItem},item.id);}):/*#__PURE__*/_jsx(\"div\",{className:\"spinner-container\",children:/*#__PURE__*/_jsx(SyncLoader,{color:\"#10b981\"})})})});};export default ProductList;","map":{"version":3,"sources":["D:/skillsafari/New folder/src/Components/Products/ProductList.js"],"names":["React","useState","useEffect","useContext","Product","CartContext","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_CART_ITEM_COUNT","ProductContext","apiKey","productURL","random","commerce","datatype","Axios","FETCH_PRODUCTS","SyncLoader","ProductList","cartItem","dispatch","products","productDispatch","fetchProducts","get","headers","Authorization","data","photos","allProduct","map","photo","smallImage","src","medium","tinyImage","tiny","productName","word","productPrice","price","count","id","uuid","age","number","type","payload","console","log","addToCart","item","isAddedtoCart","removeFromCart","incrementItem","decrementItem","items","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport Product from \"./Product\";\n\nimport { CartContext } from \"../../Services/Cart/CartContext\";\nimport {\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  UPDATE_CART_ITEM_COUNT,\n} from \"../../Services/Cart/action-types\";\nimport { ProductContext } from \"../../Services/Product/ProductContext\";\n\nimport { apiKey, productURL } from \"../../Services/util\";\nimport { random, commerce, datatype } from \"faker\";\nimport Axios from \"axios\";\n\nimport { FETCH_PRODUCTS } from \"../../Services/Product/action-types\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport \"./ProductList.css\"\nconst ProductList = () => {\n  const { cartItem, dispatch } = useContext(CartContext);\n  const {products, productDispatch} = useContext(ProductContext);\n    const fetchProducts = async () => {\n    const { data } = await Axios.get(productURL, {\n      headers: {\n        Authorization: apiKey,\n      },\n    });\n\n    const { photos } = data;\n\n    const allProduct = photos.map((photo) => ({\n      smallImage: photo.src.medium,\n      tinyImage: photo.src.tiny,\n      productName: random.word(),\n      productPrice: commerce.price(),\n      count: 0,\n      id: datatype.uuid(),\n      age: datatype.number(6)\n    }));\n    productDispatch({\n      type: FETCH_PRODUCTS,\n      payload: allProduct,\n    });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(()=>{\n    console.log(\"Cart item updated\")\n  },[cartItem])\n  const addToCart = (item) => {\n    item.isAddedtoCart = true;\n    item.count = 1;\n    dispatch({\n      type: ADD_CART_ITEM,\n      payload: item,\n    });\n  };\n\n  const removeFromCart = (item) => {\n    item.isAddedtoCart = false;\n    item.count = 0;\n    dispatch({\n      type: REMOVE_CART_ITEM,\n      payload: item,\n    });\n  };\n  const incrementItem = (item) => {\n    item.isAddedtoCart = true;\n    if (item.count > 0) {\n      item.count = item.count + 1;\n    }\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item,\n    });\n  };\n\n  const decrementItem = (item) => {\n    item.isAddedtoCart = true;\n    if (item.count > 0) {\n      item.count = item.count - 1;\n    }\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item,\n    });\n  };\n    return (\n      <div>\n        <div className=\"grid lg:grid-cols-4 gap-4 md:grid-cols-3 sm:grid-cols-2 px-4\">\n          {products.items !== undefined\n            ? products.items.map((item) => (\n                <Product\n                  key={item.id}\n                  product={item}\n                  addToCart={addToCart}\n                  removeFromCart={removeFromCart}\n                  incrementItem={incrementItem}\n                  decrementItem={decrementItem}\n                />\n              ))\n            :  <div  className=\"spinner-container\"><SyncLoader color=\"#10b981\"/></div>}\n           \n        </div>\n      </div>\n    );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}