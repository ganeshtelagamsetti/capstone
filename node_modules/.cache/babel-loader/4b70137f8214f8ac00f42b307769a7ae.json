{"ast":null,"code":"var _jsxFileName = \"D:\\\\skillsafari\\\\New folder\\\\src\\\\Components\\\\Products\\\\ProductList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Product from \"./Product\";\nimport { CartContext } from \"../../Services/Cart/CartContext\";\nimport { ADD_CART_ITEM, REMOVE_CART_ITEM, UPDATE_CART_ITEM_COUNT } from \"../../Services/Cart/action-types\";\nimport { ProductContext } from \"../../Services/Product/ProductContext\";\nimport { apiKey, productURL } from \"../../Services/util\";\nimport { random, commerce, datatype } from \"faker\";\nimport Axios from \"axios\";\nimport { FETCH_PRODUCTS } from \"../../Services/Product/action-types\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport \"./ProductList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductList = () => {\n  _s();\n\n  const {\n    cartItem,\n    dispatch\n  } = useContext(CartContext);\n  const {\n    products,\n    productDispatch\n  } = useContext(ProductContext);\n\n  const fetchProducts = async () => {\n    const {\n      data\n    } = await Axios.get(productURL, {\n      headers: {\n        Authorization: apiKey\n      }\n    });\n    const {\n      photos\n    } = data;\n    const allProduct = photos.map(photo => ({\n      smallImage: photo.src.medium,\n      tinyImage: photo.src.tiny,\n      productName: random.word(),\n      productPrice: commerce.price(),\n      count: 0,\n      id: datatype.uuid(),\n      age: datatype.number(6)\n    }));\n    productDispatch({\n      type: FETCH_PRODUCTS,\n      payload: allProduct\n    });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n  useEffect(() => {\n    console.log(\"Cart item updated\");\n  }, [cartItem]);\n\n  const addToCart = item => {\n    item.isAddedtoCart = true;\n    item.count = 1;\n    dispatch({\n      type: ADD_CART_ITEM,\n      payload: item\n    });\n  };\n\n  const removeFromCart = item => {\n    item.isAddedtoCart = false;\n    item.count = 0;\n    dispatch({\n      type: REMOVE_CART_ITEM,\n      payload: item\n    });\n  };\n\n  const incrementItem = item => {\n    item.isAddedtoCart = true;\n\n    if (item.count > 0) {\n      item.count = item.count + 1;\n    }\n\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item\n    });\n  };\n\n  const decrementItem = item => {\n    item.isAddedtoCart = true;\n\n    if (item.count > 0) {\n      item.count = item.count - 1;\n    }\n\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-4 gap-4 md:grid-cols-3 sm:grid-cols-2 px-4\",\n      children: products.items !== undefined ? products.items.map(item => /*#__PURE__*/_jsxDEV(Product, {\n        product: item,\n        addToCart: addToCart,\n        removeFromCart: removeFromCart,\n        incrementItem: incrementItem,\n        decrementItem: decrementItem\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-container\",\n        children: /*#__PURE__*/_jsxDEV(SyncLoader, {\n          color: \"#10b981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 7\n  }, this);\n};\n\n_s(ProductList, \"6CBCLfDOPfc2hyvBWdrj/0nUWbI=\");\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["D:/skillsafari/New folder/src/Components/Products/ProductList.js"],"names":["React","useState","useEffect","useContext","Product","CartContext","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_CART_ITEM_COUNT","ProductContext","apiKey","productURL","random","commerce","datatype","Axios","FETCH_PRODUCTS","SyncLoader","ProductList","cartItem","dispatch","products","productDispatch","fetchProducts","data","get","headers","Authorization","photos","allProduct","map","photo","smallImage","src","medium","tinyImage","tiny","productName","word","productPrice","price","count","id","uuid","age","number","type","payload","console","log","addToCart","item","isAddedtoCart","removeFromCart","incrementItem","decrementItem","items","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport Product from \"./Product\";\n\nimport { CartContext } from \"../../Services/Cart/CartContext\";\nimport {\n  ADD_CART_ITEM,\n  REMOVE_CART_ITEM,\n  UPDATE_CART_ITEM_COUNT,\n} from \"../../Services/Cart/action-types\";\nimport { ProductContext } from \"../../Services/Product/ProductContext\";\n\nimport { apiKey, productURL } from \"../../Services/util\";\nimport { random, commerce, datatype } from \"faker\";\nimport Axios from \"axios\";\n\nimport { FETCH_PRODUCTS } from \"../../Services/Product/action-types\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport \"./ProductList.css\"\nconst ProductList = () => {\n  const { cartItem, dispatch } = useContext(CartContext);\n  const {products, productDispatch} = useContext(ProductContext);\n    const fetchProducts = async () => {\n    const { data } = await Axios.get(productURL, {\n      headers: {\n        Authorization: apiKey,\n      },\n    });\n\n    const { photos } = data;\n\n    const allProduct = photos.map((photo) => ({\n      smallImage: photo.src.medium,\n      tinyImage: photo.src.tiny,\n      productName: random.word(),\n      productPrice: commerce.price(),\n      count: 0,\n      id: datatype.uuid(),\n      age: datatype.number(6)\n    }));\n    productDispatch({\n      type: FETCH_PRODUCTS,\n      payload: allProduct,\n    });\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(()=>{\n    console.log(\"Cart item updated\")\n  },[cartItem])\n  const addToCart = (item) => {\n    item.isAddedtoCart = true;\n    item.count = 1;\n    dispatch({\n      type: ADD_CART_ITEM,\n      payload: item,\n    });\n  };\n\n  const removeFromCart = (item) => {\n    item.isAddedtoCart = false;\n    item.count = 0;\n    dispatch({\n      type: REMOVE_CART_ITEM,\n      payload: item,\n    });\n  };\n  const incrementItem = (item) => {\n    item.isAddedtoCart = true;\n    if (item.count > 0) {\n      item.count = item.count + 1;\n    }\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item,\n    });\n  };\n\n  const decrementItem = (item) => {\n    item.isAddedtoCart = true;\n    if (item.count > 0) {\n      item.count = item.count - 1;\n    }\n    dispatch({\n      type: UPDATE_CART_ITEM_COUNT,\n      payload: item,\n    });\n  };\n    return (\n      <div>\n        <div className=\"grid lg:grid-cols-4 gap-4 md:grid-cols-3 sm:grid-cols-2 px-4\">\n          {products.items !== undefined\n            ? products.items.map((item) => (\n                <Product\n                  key={item.id}\n                  product={item}\n                  addToCart={addToCart}\n                  removeFromCart={removeFromCart}\n                  incrementItem={incrementItem}\n                  decrementItem={decrementItem}\n                />\n              ))\n            :  <div  className=\"spinner-container\"><SyncLoader color=\"#10b981\"/></div>}\n           \n        </div>\n      </div>\n    );\n};\n\nexport default ProductList;\n"]},"metadata":{},"sourceType":"module"}